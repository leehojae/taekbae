<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
<script type="text/javascript">

var AUTHORIZATION_SERVER_URL = "https://oneid.skplanetx.com";

function getUrlParameter() {
    var ParameterObject = new Object();
    var locate = location.href;

    if (locate.indexOf("?") == -1) {
        return ParameterObject;
    }

    var parameter = locate.split("?")[1];
    var paramAreay = parameter.split("&");
    for ( var i = 0; i < paramAreay.length; i++) {
        var tem = paramAreay[i].split("=");
        ParameterObject[tem[0]] = tem[1];
    }
    getUrlParameter = function() {
        return ParameterObject;
    }
    return ParameterObject;
};

function hasError() {
    var hasError = false;
    for ( var ele in getUrlParameter()) {
        if (ele == 'error') {
            hasError = true;
        }
    }
    if (hasError == true) {
        alert('[' + getUrlParameter()['error'] + "] " + getUrlParameter()['error_description']);
    }
    return hasError;
}

var appID = "6b745f33-4cb1-3f91-b56c-a76d53741dff";
if (window.location.hash.length == 0) {
    if (!hasError()) {
        var path = AUTHORIZATION_SERVER_URL+'/oauth/authorize?';
        var queryParams = [ 'client_id=' + appID,
                'redirect_uri=' + window.location,
                'response_type=token', 'scope=tmap' ];
        var query = queryParams.join('&');
        var url = path + query;
        self.location.href=url;
    }

} else {
    var accessToken = window.location.hash.substring(1);
    alert(accessToken);

}
</script>
</head>
<body>

<!-- https://apis.skplanetx.com/tmap/routes?
appKey=53a2d5b1-cf76-38be-a917-e59fd79ce2a9&
version=1&
bizAppId=&
callback=&
startX=127.021993691851&
startY=37.4846508839975&
endX=126.452591430685&
endY=36.7263867904482&
reqCoordType=WGS84GEO
https://apis.skplanetx.com/tmap/routes/prediction?appKey=53a2d5b1-cf76-38be-a917-e59fd79ce2a9&version=1&bizAppId=&callback=
&startX=127.021993691851&startY=37.4846508839975&endX=126.452591430685&endY=36.7263867904482&reqCoordType=WGS84GEO  -->
<script type="text/javascript">

function test(){
	$.ajax({
		type : "POST", 
		url : "https://apis.skplanetx.com/tmap/routes/prediction?appKey=53a2d5b1-cf76-38be-a917-e59fd79ce2a&version=1&bizAppId=" +
			"&startX=127.021993691851&startY=37.4846508839975&endX=126.452591430685&endY=36.7263867904482&reqCoordType=WGS84GEO&format=json", 
		dataType : "json", 
	          error : function(request, status, error) {
	               //통신 에러 발생시 처리
	               alert("code : " + request.status + "\r\nmessage : " + request.reponseText);
	              }, 
	          success : function(response, status, request) {
	               //통신 성공시 처리
	               alert("success");   
	              }
	});
};

function test2(){
	  $.ajax({
	    type : "POST", 
	    url : "https://apis.skplanetx.com/tmap/routes/prediction?appKey=53a2d5b1-cf76-38be-a917-e59fd79ce2a9&sort=&reqCoordType=WGS84GEO&callback=?&bizAppId=&version=1", 
	    dataType : "json", 
	    contentType: "application/json;charset=utf-8", 
	    data : {
	        "routesInfo": {
	            "departure": {
	              "name": "test1",
	              "lon": "127.021993691851",
	              "lat": "37.4846508839975",
	              "depSearchFlag": "03"
	            },
	            "destination": {
	              "name": "test2",
	              "lon": "126.452591430685",
	              "lat": "36.7263867904482",
	              "destSearchFlag": "03"
	            },
	            "predictionType": "arrival",
	            "predictionTime": "2014-03-19T18:31:22+0900",
	            "searchOption": "00",
	            "tollgateCarType": "car"
	          }
	        }, 
	        error : function(request, status, error) {
	             //통신 에러 발생시 처리
	             alert("code : " + request.status + "\r\nmessage : " + request.reponseText);
	            }, 
	        success : function(response, status, request) {
	             //통신 성공시 처리
	             alert("success");   
	            }
	  });
	};
</script>

<button onclick="test()">거리테스트</button>
<h3>Choose an image:</h3>   
    <form><input type='file'  onchange="readURL(this);"  /></form>


<h3>preview</h3>    
    <img id="blah" src="#" alt="your image"    /> 

<script type='text/javascript'>

var reader = new FileReader(); 
reader.onload = function(e) {
  document.images[0].src  = e.target.result; 
};

function readURL(input){ 
   if(input.files && input.files[0]){
      reader.readAsDataURL(input.files[0]);
   }
   else {
     document.images[0].src = input.value || "No file selected";
   }
}

</script>
</body>
</html>